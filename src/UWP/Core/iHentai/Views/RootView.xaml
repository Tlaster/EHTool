<Grid
    x:Class="iHentai.Views.RootView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:iHentai.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:paging="using:iHentai.Paging"
    xmlns:animations="using:iHentai.Paging.Animations"
    xmlns:viewModels="using:iHentai.ViewModels"
    xmlns:tab="using:Tab"
    xmlns:mvvm="using:iHentai.Mvvm"
    Background="{ThemeResource SystemControlAcrylicWindowBrush}"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance viewModels:RootViewModel}"
    d:DesignHeight="300"
    d:DesignWidth="400">

    <tab:TabControl TabBackground="{ThemeResource SystemControlAcrylicWindowMediumHighBrush}" x:Name="tab"
                    AddRequest="{x:Bind ViewModel.AddTab}" ItemsSource="{Binding Source}"
                    TitlePath="self.CurrentPageTitle"
                    TabClosed="{x:Bind ViewModel.TabClosed}">
        <tab:TabControl.ItemsTemplate>
            <DataTemplate>
                <mvvm:MvvmFrame d:DataContext="{d:DesignInstance viewModels:TabViewModel}" x:Name="TabRootFrame"
                                TargetSourcePage="{Binding RootType}">
                    <paging:HentaiFrame.PageAnimation>
                        <animations:FadeAnimation />
                    </paging:HentaiFrame.PageAnimation>
                </mvvm:MvvmFrame>
            </DataTemplate>
        </tab:TabControl.ItemsTemplate>
        <tab:TabControl.Header>
            <Grid Padding="8" DataContext="{Binding ElementName=tab, Path=Content}"
                  d:DataContext="{d:DesignInstance mvvm:MvvmFrame}"
                  Background="{ThemeResource SystemControlChromeLowAcrylicWindowBrush}">
                <StackPanel Orientation="Horizontal">
                    <Button IsEnabled="{Binding CanGoBack}" Style="{ThemeResource TextBlockButtonStyle}"
                            Command="{Binding GoBackCommand}">
                        <SymbolIcon Symbol="Back" />
                    </Button>
                </StackPanel>
            </Grid>
        </tab:TabControl.Header>
    </tab:TabControl>
    <Grid x:Name="ExtendedSplash" d:IsHidden="True" Background="{StaticResource SystemControlBackgroundAccentBrush}"
          Grid.Row="0"
          Grid.RowSpan="2">
        <Canvas>
            <Image HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="ExtendedSplashImage"
                   Source="ms-appx:///Assets/SplashScreen.png" />
        </Canvas>
    </Grid>
</Grid>